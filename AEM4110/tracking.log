---------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  Z:\jrg363\Workshops FA24\Stata Class Workshops\AEM4110\tracking.log
  log type:  text
 opened on:  29 Aug 2024, 10:31:50

. 
. *input data manually
. input acc_rate spdlimit

      acc_rate   spdlimit
  1. 4.58 55
  2. 1.86 60
  3. 1.61 .
  4. end

. 
. *Stata can only be working with 1 dataset at a time.
. clear

. *file -> import -> Excel Spreadsheet
. import excel "SampleData.xlsx", sheet("SalesOrders") firstrow clear
(7 vars, 43 obs)

. 
. *Desscribe the data. 
. *Data -> Describe Data
. describe

Contains data
 Observations:            43                  
    Variables:             7                  
---------------------------------------------------------------------------------------------------------------------------------------
Variable      Storage   Display    Value
    name         type    format    label      Variable label
---------------------------------------------------------------------------------------------------------------------------------------
Region          str7    %9s                   Region
Rep             str8    %9s                   Rep
Item            str7    %9s                   Item
Units           byte    %10.0g                Units
Total           double  %10.0g                Total
year            int     %10.0g                year
UnitCost        str6    %9s                   Unit Cost
---------------------------------------------------------------------------------------------------------------------------------------
Sorted by: 
     Note: Dataset has changed since last saved.

. codebook

---------------------------------------------------------------------------------------------------------------------------------------
Region                                                                                                                           Region
---------------------------------------------------------------------------------------------------------------------------------------

                  Type: String (str7)

         Unique values: 3                         Missing "": 0/43

            Tabulation: Freq.  Value
                           24  "Central"
                           13  "East"
                            6  "West"

---------------------------------------------------------------------------------------------------------------------------------------
Rep                                                                                                                                 Rep
---------------------------------------------------------------------------------------------------------------------------------------

                  Type: String (str8)

         Unique values: 11                        Missing "": 0/43

              Examples: "Gill"
                        "Jones"
                        "Kivell"
                        "Parent"

---------------------------------------------------------------------------------------------------------------------------------------
Item                                                                                                                               Item
---------------------------------------------------------------------------------------------------------------------------------------

                  Type: String (str7)

         Unique values: 5                         Missing "": 0/43

            Tabulation: Freq.  Value
                           15  "Binder"
                            3  "Desk"
                            5  "Pen"
                            7  "Pen Set"
                           13  "Pencil"

               Warning: Variable has embedded blanks.

---------------------------------------------------------------------------------------------------------------------------------------
Units                                                                                                                             Units
---------------------------------------------------------------------------------------------------------------------------------------

                  Type: Numeric (byte)

                 Range: [2,96]                        Units: 1
         Unique values: 37                        Missing .: 0/43

                  Mean: 49.3256
             Std. dev.: 30.0782

           Percentiles:     10%       25%       50%       75%       90%
                              7        27        53        75        90

---------------------------------------------------------------------------------------------------------------------------------------
Total                                                                                                                             Total
---------------------------------------------------------------------------------------------------------------------------------------

                  Type: Numeric (double)

                 Range: [9.03,1879.06]                Units: .01
         Unique values: 41                        Missing .: 0/43

                  Mean: 456.462
             Std. dev.: 447.022

           Percentiles:     10%       25%       50%       75%       90%
                          57.71    139.93     299.4       625   1139.43

---------------------------------------------------------------------------------------------------------------------------------------
year                                                                                                                               year
---------------------------------------------------------------------------------------------------------------------------------------

                  Type: Numeric (int)

                 Range: [2021,2021]                   Units: 1
         Unique values: 1                         Missing .: 0/43

            Tabulation: Freq.  Value
                           43  2021

---------------------------------------------------------------------------------------------------------------------------------------
UnitCost                                                                                                                      Unit Cost
---------------------------------------------------------------------------------------------------------------------------------------

                  Type: String (str6)

         Unique values: 12                        Missing "": 0/43

              Examples: "$1.99"
                        "$19.99"
                        "$23.95"
                        "$4.99"

. 
. *view/edit dataset
. *Data -> Data Editor  -> 'Colors of variables and what they mean. '
. browse

. edit

. 
. *save dataset. file -> Save
. save "Sample_data", replace
file Sample_data.dta saved

. 
. *re-open. File -> Open
. use Sample_data, clear

. 
. *Bring up a sample dataset for summary stats
. sysuse auto, clear
(1978 automobile data)

. browse

. *value labels. Colors of variables. 
. describe

Contains data from C:\Program Files\Stata18\ado\base/a/auto.dta
 Observations:            74                  1978 automobile data
    Variables:            12                  13 Apr 2022 17:45
                                              (_dta has notes)
---------------------------------------------------------------------------------------------------------------------------------------
Variable      Storage   Display    Value
    name         type    format    label      Variable label
---------------------------------------------------------------------------------------------------------------------------------------
make            str18   %-18s                 Make and model
price           int     %8.0gc                Price
mpg             int     %8.0g                 Mileage (mpg)
rep78           int     %8.0g                 Repair record 1978
headroom        float   %6.1f                 Headroom (in.)
trunk           int     %8.0g                 Trunk space (cu. ft.)
weight          int     %8.0gc                Weight (lbs.)
length          int     %8.0g                 Length (in.)
turn            int     %8.0g                 Turn circle (ft.)
displacement    int     %8.0g                 Displacement (cu. in.)
gear_ratio      float   %6.2f                 Gear ratio
foreign         byte    %8.0g      origin     Car origin
---------------------------------------------------------------------------------------------------------------------------------------
Sorted by: foreign

. 
. *sample stats
. 
. *numeric summary stats
. *But first documentation from sytax. Includes sample code at bottom. 
. help summarize

. 
. *options, if features
. *Statistics -> Summaries, Tables, Tests
. summarize

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
        make |          0
       price |         74    6165.257    2949.496       3291      15906
         mpg |         74     21.2973    5.785503         12         41
       rep78 |         69    3.405797    .9899323          1          5
    headroom |         74    2.993243    .8459948        1.5          5
-------------+---------------------------------------------------------
       trunk |         74    13.75676    4.277404          5         23
      weight |         74    3019.459    777.1936       1760       4840
      length |         74    187.9324    22.26634        142        233
        turn |         74    39.64865    4.399354         31         51
displacement |         74    197.2973    91.83722         79        425
-------------+---------------------------------------------------------
  gear_ratio |         74    3.014865    .4562871       2.19       3.89
     foreign |         74    .2972973    .4601885          0          1

. summarize mpg weight

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
         mpg |         74     21.2973    5.785503         12         41
      weight |         74    3019.459    777.1936       1760       4840

. summarize mpg weight if foreign

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
         mpg |         22    24.77273    6.611187         14         41
      weight |         22    2315.909    433.0035       1760       3420

. summarize mpg weight if foreign, detail

                        Mileage (mpg)
-------------------------------------------------------------
      Percentiles      Smallest
 1%           14             14
 5%           17             17
10%           17             17       Obs                  22
25%           21             18       Sum of wgt.          22

50%         24.5                      Mean           24.77273
                        Largest       Std. dev.      6.611187
75%           28             31
90%           35             35       Variance       43.70779
95%           35             35       Skewness        .657329
99%           41             41       Kurtosis        3.10734

                        Weight (lbs.)
-------------------------------------------------------------
      Percentiles      Smallest
 1%         1760           1760
 5%         1830           1830
10%         1930           1930       Obs                  22
25%         2020           1980       Sum of wgt.          22

50%         2180                      Mean           2315.909
                        Largest       Std. dev.      433.0035
75%         2650           2750
90%         2830           2830       Variance         187492
95%         3170           3170       Skewness       1.056582
99%         3420           3420       Kurtosis       3.368013

. 
. *tab command for frequency counts.
. tab foreign

 Car origin |      Freq.     Percent        Cum.
------------+-----------------------------------
   Domestic |         52       70.27       70.27
    Foreign |         22       29.73      100.00
------------+-----------------------------------
      Total |         74      100.00

. 
. *2 way crosstabs
. tab foreign rep78

           |                   Repair record 1978
Car origin |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
  Domestic |         2          8         27          9          2 |        48 
   Foreign |         0          0          3          9          9 |        21 
-----------+-------------------------------------------------------+----------
     Total |         2          8         30         18         11 |        69 

. tab foreign rep78, chi2

           |                   Repair record 1978
Car origin |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
  Domestic |         2          8         27          9          2 |        48 
   Foreign |         0          0          3          9          9 |        21 
-----------+-------------------------------------------------------+----------
     Total |         2          8         30         18         11 |        69 

          Pearson chi2(4) =  27.2640   Pr = 0.000

. 
. *table command. 
. table foreign

-----------------------
           |  Frequency
-----------+-----------
Car origin |           
  Domestic |         52
  Foreign  |         22
  Total    |         74
-----------------------

. table foreign, statistic(mean price mpg)

--------------------------------------
           |     Price   Mileage (mpg)
-----------+--------------------------
Car origin |                          
  Domestic |  6072.423        19.82692
  Foreign  |  6384.682        24.77273
  Total    |  6165.257         21.2973
--------------------------------------

. table foreign, statistic(mean price mpg) statistic(sd price mpg)

-----------------------------------------------------------------
           |            Mean                Standard deviation   
           |     Price   Mileage (mpg)      Price   Mileage (mpg)
-----------+-----------------------------------------------------
Car origin |                                                     
  Domestic |  6072.423        19.82692   3097.104        4.743297
  Foreign  |  6384.682        24.77273   2621.915        6.611187
  Total    |  6165.257         21.2973   2949.496        5.785503
-----------------------------------------------------------------

. 
. 
. *tabstat command. 
. tabstat price weight mpg rep78

   Stats |     price    weight       mpg     rep78
---------+----------------------------------------
    Mean |  6165.257  3019.459   21.2973  3.405797
--------------------------------------------------

. tabstat price weight mpg rep78, by(foreign)

Summary statistics: Mean
Group variable: foreign (Car origin)

 foreign |     price    weight       mpg     rep78
---------+----------------------------------------
Domestic |  6072.423  3317.115  19.82692  3.020833
 Foreign |  6384.682  2315.909  24.77273  4.285714
---------+----------------------------------------
   Total |  6165.257  3019.459   21.2973  3.405797
--------------------------------------------------

. tabstat price weight mpg rep78, by(foreign) stat(mean sd min max)

Summary statistics: Mean, SD, Min, Max
Group variable: foreign (Car origin)

 foreign |     price    weight       mpg     rep78
---------+----------------------------------------
Domestic |  6072.423  3317.115  19.82692  3.020833
         |  3097.104  695.3637  4.743297   .837666
         |      3291      1800        12         1
         |     15906      4840        34         5
---------+----------------------------------------
 Foreign |  6384.682  2315.909  24.77273  4.285714
         |  2621.915  433.0035  6.611187  .7171372
         |      3748      1760        14         3
         |     12990      3420        41         5
---------+----------------------------------------
   Total |  6165.257  3019.459   21.2973  3.405797
         |  2949.496  777.1936  5.785503  .9899323
         |      3291      1760        12         1
         |     15906      4840        41         5
--------------------------------------------------

. 
. *t-test
. ttest mpg, by(foreign)

Two-sample t test with equal variances
------------------------------------------------------------------------------
   Group |     Obs        Mean    Std. err.   Std. dev.   [95% conf. interval]
---------+--------------------------------------------------------------------
Domestic |      52    19.82692     .657777    4.743297    18.50638    21.14747
 Foreign |      22    24.77273     1.40951    6.611187    21.84149    27.70396
---------+--------------------------------------------------------------------
Combined |      74     21.2973    .6725511    5.785503     19.9569    22.63769
---------+--------------------------------------------------------------------
    diff |           -4.945804    1.362162               -7.661225   -2.230384
------------------------------------------------------------------------------
    diff = mean(Domestic) - mean(Foreign)                         t =  -3.6308
H0: diff = 0                                     Degrees of freedom =       72

    Ha: diff < 0                 Ha: diff != 0                 Ha: diff > 0
 Pr(T < t) = 0.0003         Pr(|T| > |t|) = 0.0005          Pr(T > t) = 0.9997

. 
. *OLS regression
. *Statistics -> Linear Models and related -> Linear Regression
. regress mpg weight length

      Source |       SS           df       MS      Number of obs   =        74
-------------+----------------------------------   F(2, 71)        =     69.34
       Model |  1616.08062         2  808.040312   Prob > F        =    0.0000
    Residual |  827.378835        71   11.653223   R-squared       =    0.6614
-------------+----------------------------------   Adj R-squared   =    0.6519
       Total |  2443.45946        73  33.4720474   Root MSE        =    3.4137

------------------------------------------------------------------------------
         mpg | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
      weight |  -.0038515    .001586    -2.43   0.018    -.0070138   -.0006891
      length |  -.0795935   .0553577    -1.44   0.155    -.1899736    .0307867
       _cons |   47.88487    6.08787     7.87   0.000       35.746    60.02374
------------------------------------------------------------------------------

. 
. *output explained and other sample code
. *https://stats.oarc.ucla.edu/stata/output/regression-analysis/
. 
. *Attend my workshops how to make these results pretty. 
. *https://socialsciences.cornell.edu/computing-and-data/workshops-and-training
. *https://socialsciences.cornell.edu/computing-and-data/workshops-and-training
. 
. *close log file
. log close
      name:  <unnamed>
       log:  Z:\jrg363\Workshops FA24\Stata Class Workshops\AEM4110\tracking.log
  log type:  text
 closed on:  29 Aug 2024, 10:31:56
---------------------------------------------------------------------------------------------------------------------------------------
